<svg class="calc-rule1 mr-3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="140" height="100">
    <defs>
        <path d="M0 0l3 10h-6z" stroke="none" id="A"></path>
        <path d="M0 .5l3 10h-6l3-10h-3v-1h6v1z" stroke="none" id="B"></path>
    </defs>
    <g transform="translate(57.5 8.5)" stroke="red">
        <path fill="none" d="M15 0L4.7474 17.7712"></path>
        <use fill="red" y="26" transform="matrix(-.86618593 -.49972186 .49972186 -.86618593 -12.99276832 48.52083416)" xlink:href="#A"></use>
    </g>
    <g class="log-before" transform="translate(27.5 19.5)" stroke="red">
        <path fill="none" d="M0 0v39.5"></path>
        <use fill="red" y="50" transform="matrix(-1 0 0 -1 0 100)" xlink:href="#B"></use>
    </g>
    <text class="txt-before" fill="#000" transform="matrix(0 -1 1 0 10.5 86.5)">
        <tspan x="5.5" y="5.12">08:00</tspan>
    </text>
    <g class="log-after" transform="translate(91.5 19.5)" stroke="red">
        <path fill="none" d="M0 0v39.5"></path>
        <use fill="red" y="50" transform="matrix(-1 0 0 -1 0 100)" xlink:href="#B"></use>
    </g>
    <text class="txt-after" fill="#000" transform="matrix(0 -1 1 0 75.5 87.5)">
        <tspan x="5.5" y="5.12">08:05</tspan>
    </text>
    <g fill="none" stroke="red">
        <path d="M3.5 34.5h129" stroke-dasharray="2 3"></path>
        <path d="M23.5 38.5l9-9m55 9l9-9" stroke-dasharray="1 2"></path>
        <path d="M72.5 8.5h67"></path>
    </g>
    <g class="sel-arrow" transform="matrix(-.25881905 .96592583 -.96592583 -.25881905 49.83324688 77.06018495)" stroke="#00ff2b">
        <path fill="none" d="M12.8787 0L4.7469 14.0968"></path>
        <use fill="#00ff2b" y="22.3258" transform="matrix(-.86621209 -.4996765 .4996765 -.86621209 -11.1556777 41.66467796)" xlink:href="#A"></use>
    </g>
    <path class="path-arrow" fill="none" d="M46.5 89.5h93" stroke="#00ff2b"></path>
</svg>
<!--<div>
    <button type="button" class="btn btn-link">Lay tu trước ra sau</button>
    <button type="button" class="btn btn-link">Lay tu sau ra truoc</button>
    <button type="button" class="btn btn-link">Tu giua ra 2 ben</button>
</div>-->


<style type="text/css">
    #myOverviewDiv {
        display: none;
        position: absolute;
        background-color: white;
        z-index: 300; /* make sure its in front */
        border: solid 1px blue;
        width: 100%;
        height: 100%;
        pointer-events: none;
    }


    .sellog-before .log-before, .sellog-after .log-after {
        stroke: #00ff2b;
    }

        .sellog-before .txt-before,
        .sellog-after .txt-after,
        .sellog-before .log-before use,
        .sellog-after .log-after use {
            fill: #00ff2b;
        }

    .darkcolor .hc4logsx text {
        fill: #fff;
    }


    .calc-rule1 tspan {
        letter-spacing: 0.1em;
        font-weight: 100;
        font-family: "Helvetica Neue","Segoe UI",helvetica,verdana,sans-serif;
    }
    .logrule-changed:not(.in-calc) .sub-tieude{
        display:none!important;
    }
</style>
<style type="text/css">


    .edit-time-diag-tbar {
        bottom: 10px;
        position: absolute;
        z-index: 2015;
    }

        .edit-time-diag-tbar button.btn {
            padding: 1px 6px;
            border-width: 2px;
            border-style: outset;
            /*border-style: solid;
          border-width: 1px;
          border-top-color: black;
          border-left-color: black;
          border-right-color: white;
          border-bottom-color: white;*/
        }

    .edit-time.dx-datebox-native .dx-texteditor-input {
        width:50px!important;
    }

    .logeditundo{ /*binh thuong thi se ko hien thi;*/
        display:none;
    }

    .delval .logeditundo{ /*binh thuong thi se ko hien thi;*/
        display:block;
    }
    .delval .dx-texteditor-input {
        text-decoration: underline overline line-through;
    }
    .dx-texteditor-empty .logremove , .delval .logremove {
        display:none!important;
    }

    .keypad .btn.upkeypad {
        border-top-left-radius: .2rem !important;
        border-top-right-radius: .2rem !important;
        border-bottom-right-radius: 0 !important;
        border-left-color: #6c757d !important;
        /*border-right-color: #6c757d!important;*/
    }

    /*http://jsfiddle.net/brenna/f4uq9edL/?utm_source=website&utm_medium=embed&utm_campaign=f4uq9edL*/
    /*https://codepen.io/onyx1812/pen/GRJxmva*/
    input.levelSlider {
        /*-webkit-appearance: none;*/
        /*margin: 10px 0;*/
        width: 100px;
        position: relative;
        /*-moz-appearance: none;*/
        height: 4px;
    }

        input.levelSlider:focus {
            outline: none;
        }

        input.levelSlider::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            animate: 0.2s;
            /*background: #03a9f4;*/
            background: #ddd;
            border-radius: 25px;
            -webkit-appearance: none !important;
        }

        input.levelSlider::-webkit-slider-thumb {
            height: 20px;
            width: 20px;
            border-radius: 50%;
            /*background: #fff;*/
            box-shadow: 0 0 4px 0 rgba(0,0,0, 1);
            cursor: pointer;
            -webkit-appearance: none;
            margin-top: -6px;
        }

        input.levelSlider:focus::-webkit-slider-runnable-track,
        input.levelSlider:focus::-moz-range-track {
            background: #03a9f4;
        }

        input.levelSlider::-moz-range-thumb {
            -webkit-appearance: none;
            -moz-appearance: none;
            -moz-border-radius: 50%;
            height: 14px;
            width: 14px;
            border-radius: 50%;
            background: gray;
            /*border: 1px solid #c5c5c5;*/
        }

        input.levelSlider::-moz-range-track {
            border: none !important;
            background: #ddd;
        }

    .zoomctrl .btn {
        border-radius: 50% !important;
        padding: 1px 5px !important;
    }

    .range-value {
        position: absolute;
        top: 18px;
    }

        .range-value span {
            width: 30px;
            /*height: 24px;
        line-height: 24px;*/
            text-align: center;
            /*background: #03a9f4;*/
            color: #fff;
            font-size: 11px;
            top: 5px;
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0);
            border-radius: 6px;
            font-family: "Helvetica Neue","Segoe UI",helvetica,verdana,sans-serif;
            font-weight: 100;
        }

    .lightcolor .range-value span {
        color: #000;
    }

    .popcontext-menu span {
        font-size: 18px;
        width: 18px;
        /*height:21px;*/
    }

    .popcontext-menu .spansub {
        font-size: 20px;
        margin-left: auto;
    }

    .zoomctrl-0 .zoomctrl, .keypad-0 .keypad, .closepanel-0 .closepanel, .floatwindow-0 .floatwindow {
        display: none;
    }

    .config-size-panel-diag {
        width: 100%;
        margin-top: -10px;
        table-layout: fixed;
    }
        /*.config-size-panel-diag td:not(:first-child){
        width:100px;
    }*/
        .config-size-panel-diag td {
            padding: 5px;
            text-align: right;
        }

        .config-size-panel-diag thead td {
            vertical-align: bottom;
            text-align: center;
            padding-top: 0px;
            padding-bottom: 0px;
        }

    .dume-border0 .dx-button-content {
        padding: 0px !important;
    }

    .pointer-target-back {
        position: absolute;
        left: 0px;
        right: 0px;
        bottom: 0px;
        padding-top: 10px;
    }
    .bantay{
        z-index:2001; /*arrow: 2000*/
        position: absolute;
        margin-top: -17px;
        left: calc(50% - 9px);
        font-size: large;
        color: hotpink!important;
    }
    .edit-log .dx-popover-arrow {
        /*margin-top: -10px!important;*/
        /*height:20px!important;*/
    }
    .edit-log .dx-overlay-content {
        border-left:none!important;
        border-right:none!important;
    }
    .edit-log.keepshown .dx-overlay-content {
        opacity: 1!important;
    }
    .edit-log.flashpanel .dx-overlay-content {
        opacity: 0.3!important;
    }
    .edit-log.tmphidden .dx-overlay-content {
        display: none!important;
    }
    .edit-log .dx-popover-arrow:before{
        color: hotpink!important;
        font-family: themify;
        content: "\e660";
        position: absolute;
        top: -5px;
        z-index: 2001;
        font-size: 20px;
    }


    .edit-time {
        /*border: none !important;*/
        border-right: none !important;
        border-bottom: none !important;
        border-left:  none !important;
        border-top-left-radius: 0 !important;
        border-top-right-radius: 0 !important;
        font-size: larger !important;
        box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px !important;
        z-index:999999;
        position:absolute;
    }
        .edit-time .dx-texteditor-input {
            padding-right:5px!important;
        }
        .edit-time.dx-invalid .dx-clear-button-area {
            display:none!important;
        }

    .edit-log .btnOK {
        position: absolute;
        color: #4cae4c;
        width: 20px;
        height: 20px;
        text-align: center;
        line-height: 20px;
        border-radius: 4px;
        cursor: pointer;
    }
        .edit-log .btnOK:hover {
            background-color: #343434;
            border-color: #4d4d4d;
        }
    .lightcolor .edit-log .btnOK:hover {
        background-color: #f5f5f5;
        border-color: #ddd;
    }

    .edit-log-diag{
        overflow: hidden;
        /*width: 800px;*/
        position: absolute;
        /*left: -50%;*/
        border: 1px solid #4d4d4d;
        background: #2a2a2a;
        display: none;
        margin-top: -1px;
        /*border: none;*/
        box-shadow: rgba(0, 0, 0, 0.4) 0px 20px 20px;
        z-index: -1;
        /*padding:10px;*/
    }
    .edit-log-diag .gotime {
        position:absolute;
        width:100%;
        height:100%;
    }

        .edit-log-diag.opposit-flip {
            box-shadow: rgba(0, 0, 0, 0.4) 0px -20px 20px;
        }
    

    .edit-log-diag-float {
        position: relative;
        left: 0px !important;
        /*z-index: 1;*/
    }
    .edit-log-diag-float .gotime {
        overflow: hidden;
        position: relative;
    }


    .edit-log-diag-float-header.dx-popup-title {
        border-bottom: none !important;
        z-index:3;
    }
    .edit-log-diag-float .keypad {
        top: -50px;
        bottom: auto !important;
    }

    .edit-log-diag-float .nutlenh-diag {
        top: -30px;
        right: 50px !important;
        bottom: auto !important;
    }
    .floatDIAG-hackkeydown{
        overflow:visible!important;
    }
    .floatDIAG-hackkeydown .dx-toolbar-after .dx-toolbar-button {
        vertical-align: top;
        padding-top: 2px !important;
    }

    .floatDIAG-hackkeydown .dx-toolbar .dx-toolbar-items-container {
        height: 76px;
    }


    .edit-log-diag-float .non-float {
        display:none!important;
    }

    .lightcolor .edit-log-diag {
        border: 1px solid #ddd;
        background: #fff;
    }

    .dog_shift_popup {
        border-bottom: none!important;
        z-index: 0;
        position: absolute;
        height:32px!important;
    }
    
</style>
<style type="text/css">
    .chu_y {
          border-radius: 0;
          -webkit-border-radius: 0;
          /*box-shadow: 0 1px 2px rgba(0,0,0,0.11);*/
          display: table;
          width: 100%;
          padding: 0 10px;
        border: 1px dashed transparent;
        min-height:36px; /*equal toolbar height*/
    }

    .chu_y-white {
      /*background-image: linear-gradient(to bottom, #fff, #f9f9f9);*/
      border-top-color: #d8d8d8;
      border-bottom-color: #bdbdbd;
      border-left-color: #cacaca;
      border-right-color: #cacaca;
      color: #404040;
      padding-left: 61px;
      position: relative;
    }

    .chu_y-white.rounded {
      border-radius: 3px;
      -webkit-border-radius: 3px;
    }

    .chu_y-white.rounded .icon {
      border-radius: 3px 0 0 3px;
      -webkit-border-radius: 3px 0 0 3px;
    }

    .chu_y-white .icon {
      text-align: center;
      width: 45px;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      border: 1px solid #bdbdbd;
      padding-top: 15px;
    }


    .chu_y-white .icon:after {
      -webkit-transform: rotate(45deg);
      -moz-transform: rotate(45deg);
      -ms-transform: rotate(45deg);
      -o-transform: rotate(45deg);
      transform: rotate(45deg);
      display: block;
      content: '';
      width: 10px;
      height: 10px;
      border: 1px solid #bdbdbd;
      position: absolute;
      border-left: 0;
      border-bottom: 0;
      top: 50%;
      right: -6px;
      margin-top: -3px;
      background: #fff;
    }

    .chu_y-white .icon i {
      font-size: 20px;
      color: #fff;
      left: 12px;
      margin-top: -10px;
      position: absolute;
      top: 50%;
    }
    /*============ colors ========*/
    .chu_y-success {
      color: #3c763d;
      background-color: #dff0d8;
      border-color: #d6e9c6;
    }

    .chu_y-white.chu_y-success .icon, 
    .chu_y-white.chu_y-success .icon:after {
      border-color: #54a754;
      background: #60c060;
    }

    .chu_y-info {
      background-color: #d9edf7;
      border-color: #98cce6;
      color: #3a87ad;
    }

    .chu_y-white.chu_y-info .icon, 
    .chu_y-white.chu_y-info .icon:after {
      border-color: #3a8ace;
      background: #4d90fd;
    }


    .chu_y-white.chu_y-warning .icon, 
    .chu_y-white.chu_y-warning .icon:after {
      border-color: #d68000;
      background: #fc9700;
    }

    .chu_y-warning {
      /*background-color: #fcf8e3;*/
      border-color: #f1daab;
      color: #c09853;
    }

    .chu_y-danger {
      background-color: #f2dede;
      border-color: #e0b1b8;
      color: #b94a48;
    }

    .chu_y-white.chu_y-danger .icon, 
    .chu_y-white.chu_y-danger .icon:after {
      border-color: #ca452e;
      background: #da4932;
    }

    .chu_y .closeX{
        color: #a1a1a1;
        font-size: 20px;
        cursor:pointer;
        float: right;
    }
    .chu_y-msg{
        display: table-cell;
        vertical-align: middle;
    }
</style>

<style type="text/css">
    .tab-slider--nav {
        display: inline-block;
        margin: 0 auto;
    }

    .tab-slider--tabs {
        display: block;
        float: left;
        margin: 0;
        padding: 0;
        list-style: none;
        position: relative;
        border-radius: 30px;
        /*overflow: hidden;*/
        background: #ddd;
        height: 30px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        z-index:0;
    }

        .tab-slider--tabs:after {
            content: "";
            width: 52%;
            background: #345F90;
            height: 100%;
            position: absolute;
            top: 0;
            left: -2px;
            transition: all 200ms ease-in-out;
            border-radius: 30px;
            z-index: -1;
        }

        .tab-slider--tabs.slide:after {
            left: 50%;
        }

    .tab-slider--trigger {
        font-size: 12px;
        line-height: 1;
        font-weight: bold;
        color: #345F90;
        text-transform: uppercase;
        text-align: center;
        padding: 10px 20px;
        position: relative;
        /*z-index: 2;*/
        cursor: pointer;
        display: inline-block;
        transition: color 200ms ease-in-out;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

        .tab-slider--trigger.active {
            color: #fff;
        }

</style>

<script type="text/javascript">
    _o$h.hasOwnProperty("a")||(_o$h.a=function(t){"use strict";var n=function(t,n,e){var i="cusfilter_akq",s=function(){t.d[1](),srclocked(!1),toastMsg("save thanh cong","success")};if("noU"==e.hasUA)a.call(n,e,t.d[0],i,function(t){s()});else{var c="cusf_cusL_calcR";o.bind(n[0])(btoa(JSON.stringify({id:"-3",bd:"0",m:c})),btoa(unescape(encodeURIComponent(JSON.stringify(t.d[0])))),void 0,3,i,c,"cusfilter",void 0,void 0,s)}},e=function(t,n,e,i){var s,c=t[1],l=e.saveBadge,d=t[0].reduce(function(t,n){t[n.acno]=t[n.acno]||[[],n.ten,n.TongTG];for(var e=n.ngay.getTime(),i=[0],o=[],a=[[Math.floor((e-c)/864e5),i,o,n.mmT]],s=1;s<=8;s++)if(n.hasOwnProperty("fio"+s)){var l=n["fio"+s];l&&(a[s]=Math.floor((l.getTime()-e)/6e4),n.hasOwnProperty("noi"+s)&&n["noi"+s]&&(i[s]=[],n["noi"+s].forEach(function(t,n){i[s].push(Math.floor((t.getTime()-l.getTime())/6e4))})))}return n.freL.forEach(function(t,n){if(t[0]){var i=[Math.floor((t[0].getTime()-e)/6e4)];t[1]&&(i[1]=t[1].reduce(function(t,n){return t.push(Math.floor((n.getTime()-e)/6e4)),t},[])),o.push(i)}else o.push(null)}),t[n.acno][0].push(a),t},{}),r=function(){i(),srclocked(!1),toastMsg("save thanh cong","success")},u=(new Date).getTime().toString(),p=l[2],h=l.exDAT||{},f=e.step3_utils.calcRule,v=t[5][0];if(p.Is.cellValue&&(s={},p.Is.cellValue.each(function(t,n){var e,i=new Date(Number(t.split("|")[1])),o=i.getFullYear().toString(),a=o+pad$(i.getMonth()+1,2),c=t+"~"+JSON.stringify([n[0],n[1]]);s[a]?e=s[a]:h[a]?s[a]=e=h[a]:(e=[],s[a]=h[a]=e),function(){for(var n=e.length-1;n>=0;n--)if(e[n].split("~")[0]==t)return void(e[n]=c);e.push(c)}()})),"noU"==e.hasUA)s||$.map(h,function(t,n){t&&0!=t.length||delete h[n]}),a.call(n,e,[d,s||h],"akq",function(n){v||(e.akq=[u,c/1e3,t[2]/1e3,t[3],t[4],{calcR:f,cIO:t[5][1]}],st("setItem",e.s3dbTB[0],JSON.stringify(e.akq))),r()});else{var g=c/1e3+"~"+t[2]/1e3+"|"+t[3]+"|"+t[4]+"|"+t[5][1],m={cusL:s?1:l.cusL,calcR:f?JSON.stringify(f):void 0},b=v?"-1":1;v||(e.akq=["1|"+u,2,g]),s||$.map(h,function(t,n){t&&0!=t.length||(delete h[n],(s=s||{})[n]=[])}),o.bind(n[0])(btoa(JSON.stringify({id:"-1",bd:c/1e3,m:u})),btoa(JSON.stringify(d)),s?btoa(JSON.stringify(s)):void 0,2,"akq",u,g,m,b,r)}},i=function(t,n){var e,i=this[0],o=(this[1],[{id:0,title:"General",editor:[],template:function(n,i){var o=$("<div/>");return o.dxAccordion({items:[{template:function(i,o,a){a.prev().html('Da luong tinh toan (Mutithread calculation <button type="button" halp="calc_sl" class="btn btn-sm btn-outline-warning" style="padding: 0px 2px 0px;"><i class="ti-help"></i></button>'),a.prev().find("button").on("mouseenter",function(n){t.step3_cmd_help.fn($(n.currentTarget))});var s=$('<div><table width=100%><tr><td class="pl-1"><span>quy cach (specifications)</td><td  class="pl-3">Gia tri</td></tr><tr><td></td><td class="pl-2"></td></tr></table></div>'),c=s.find("tr:nth-child(2) td");return n.editor[0]=$('<div class="mt-1"/>').appendTo($(c[0])).dxSelectBox({items:[{id:0,dis:"Quy dinh so luong max / thread"},{id:1,dis:"Quy dinh so luong toi da thread"}],displayExpr:"dis",valueExpr:"id",value:0,width:"100%",onValueChanged:function(t){1==t.value?n.editor[1].option({min:1,max:10,value:2}):n.editor[1].option({min:100,max:1e3,value:100}),e.option("disabled",!1)}}).dxSelectBox("instance"),n.editor[1]=$('<div class="mt-1"/>').appendTo($(c[1]).css("width","120px")).dxNumberBox({value:100,format:"#",min:1,max:10}).dxNumberBox("instance"),s}}],animationDuration:300,collapsible:!1,multiple:!0,onSelectionChanged:function(t){}}).dxAccordion("instance"),o}}]);return $("<div/>").appendTo(n).dxPopup({contentTemplate:function(t){$("<div/>").appendTo(t).dxTabPanel({width:"100%",height:"100%",items:o,selectedIndex:0,loop:!1,animationEnabled:!0,swipeEnabled:!0,onSelectionChanged:function(t){}}).dxTabPanel("instance")},onContentReady:function(t){var n=t.component._$popupContent;n.css({padding:0,margin:0}),n.prev().css({height:"70px"}).addClass("edit-log-diag-float-header"),n.css("margin-top","-20px")},width:500,height:400,container:app_container.closest("#app"),visible:!0,shading:!0,dragEnabled:!0,showCloseButton:!0,onShowing:function(t){},onShown:function(t){},onHiding:function(t){},onHidden:function(t){},toolbarItems:[{location:"after",text:"Calculation Setting"},{widget:"dxButton",toolbar:"top",location:"before",options:{stylingMode:"text",disabled:!0,elementAttr:{class:"dume-border0"},template:function(t,n,e){return $('<div class="btn btn-outline-warning btn-sm"><i class="ti-save"></i> Luu Thay doi</div>')},onClick:function(n){devDlg(1,"vui long xac nhan truoc khi save?").show().done(function(n){1==n&&a.call(i,t,o[0].editor.map(function(t,n){return t.option("value")}),"s3_config",function(n){t.s3_settingPopup.hide(),toastMsg("cap nhat hoan tat","success")})})},onContentReady:function(t){e=t.component}}}]}).dxPopup("instance")},o=function(t,n,e,i,o,a,s,c,l,d){var r,u=$.Deferred(),p=$.Deferred(),h=function(a){return a({logh:t,dat:n,exDAT:e,logkind:i,evt:o},function(t){p.resolve(t)})},f=this("se",function(t,n){n&&(r=n),h.alog=t});r||(f=h(f)),$.when(u,p).then(function(t,n){d()}),f.comm1.uaShift({mak:a,i:s,alog:h.alog.key,isModL:c,I3:l},o,!1).then(function(t){var n=JSON.parse(t);r&&(n.logRMT?(h.alog.addr=n.logRMT.addr,h.alog.key=n.logRMT.key,h(r)):p.resolve()),u.resolve()})},a=function(t,n,e,i){if(this[0],"noU"==t.hasUA){t.s3dbTB[1];var o=t.s3dbTB[0];lo$DB(function(t){if(0==t.kq){var a=t.e.target.result;a.objectStoreNames.contains(o)&&a.deleteObjectStore(o),a.createObjectStore(o,{keyPath:"id"})}else if(1==t.kq){var s=t.rst.transaction([o],"readwrite"),c=s.objectStore(o);c.put({id:e,dat:n}).onsuccess=function(t){i()}}},"hellohrm_s3tinhcong")}},s=function(t,n,e,i){var o={vi:{txR1:["1. Quy ước chọn thẻ chấm công nếu gần nhau","Thời gian chấm công gần nhau bằng hoặc nhỏ hơn:","phút","Sẽ chọn tính thẻ chấm công phía:","<strong>Chú ý!</strong> Đã có thay đổi quy ước tính công. Nhấn nút “ Tính lại ” để tính lại !"],iniR1:["Trước","Sau"],help:{expE:"vi day la nut export excel",savE:"vi day la nut save to database",calc_sl:"vi so luong calc dung de  tinh toan"}},en:{help:{expE:"en day la nut export excel",savE:"en day la nut save to database",calc_sl:"en so luong calc dung de  tinh toan"}}},a="html",s=[0,""],c=function(e){var i=new Date,o=~(i.getTime()/6e4);o!=s[0]?(e='<span data-ty="input" data-ty-prompt="⚠ '+i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})+'"> '+e,s[0]=o):e='<span data-ty="input" data-ty-prompt="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;>"> '+e,n[3][a](e),a="append",n[2].animate({scrollTop:n[2][0].scrollHeight},50),t.cmdS3_scroPerf&&t.cmdS3_scroPerf.update()},l={};return{RU:function(e,d,r){t.step3_utils.editConfig={focusBack:0,panelSZ:{0:1e3,1:500,2:1200,3:400,4:200,5:500}},t.step3_utils.RULE1=JSON.parse(this[0]);var u,p,h,f=n[0].find(".timekeeper-rule1"),v=t.step3_utils.RULE1[2],g=!1,m=t.step3_utils.RULE1[v],b=function(t,e){m[e[0]]=e[1],n[2].next().addClass("d-flex"),h||(h=$('<div class="chu_y chu_y-warning chu_y-white rounded"><div class="icon"><i class="fa fa-warning"></i></div><div class="chu_y-msg">'+("en"!==i?o[i].txR1[4]:"<strong>Warning!</strong> Calculation rules has been changed. Press the “ Re-Calc ” button to recalculate !")+"</div></div>"),f.closest(".StepTitle-rule").prepend(h).parent().addClass("logrule-changed").removeClass("in-calc").on("re-calc",function(t,n,e){alert("re-calc"),$(this).off("re-calc").removeClass("logrule-changed"),a="html",s=[0,""],h.remove(),h=null})),c(t)},x=function(t){var n=l[t];return e.find(".sel-arrow").attr("transform",n[0]),e.find(".path-arrow").attr("d",n[1]),e.removeClass().addClass("sellog-"+t),t},y=function(t){var n=new Date(new Date("2021/1/1").setHours(8,t,0,0)),i=dayjs(n).format("HH:mm");return e.find(".txt-after tspan").text(i),t},w=function(){m=t.step3_utils.RULE1[v],g=!0,p.option("value",m[2]),u.option("value",m[1]),g=!1};l.before=[e.find(".sel-arrow").attr("transform"),e.find(".path-arrow").attr("d")],l.after=["matrix(-.25881905 .96592583 -.96592583 -.25881905 113 77.06018495)","M110 89.5h93"],"en"!==i&&f.closest(".StepTitle-rule").find("[class^=xt]").each(function(t,n){n.innerHTML=o[i].txR1[t]}),$('<div style="text-align: center;"><div class="tab-slider--nav"><ul class="tab-slider--tabs '+(1==v?"slide":"")+'"><li class="tab-slider--trigger '+(0==v?"active":"")+'" rel="0">Time-in</li><li class="tab-slider--trigger '+(1==v?"active":"")+'" rel="1"> Time-out</li></ul></div></div>').insertAfter(f.parent()).find(".tab-slider--nav li").on("click",function(n){var e=$(this);v=Number(e.attr("rel")),t.step3_utils.RULE1[2]=v,setTimeout(w,10),e.parent()[(1==v?"add":"remove")+"Class"]("slide"),e.parent().find("li").removeClass("active"),e.addClass("active")}),u=n[0].find(".logs-spacing").html("").dxNumberBox({min:0,max:500,value:y(m[1]),width:50,onValueChanged:function(t){if(y(t.value),!g){var n=t.component._$element;b(n.prev().text()+" "+t.value+" "+n.next().text(),[1,t.value])}}}).dxNumberBox("instance"),p=d.html("").dxSelectBox({items:[{id:"before",dis:"en"!==i?o[i].iniR1[0]:"Before"},{id:"after",dis:"en"!==i?o[i].iniR1[1]:"After"}],displayExpr:"dis",valueExpr:"id",value:x(m[2]),width:100,onValueChanged:function(t){if(x(t.value),!g){var n=t.component._$element;b(n.prev().text()+" "+t.component.option("text"),[2,t.value])}}}).dxSelectBox("instance");var T=$("<div/>"),_=$("<div/>").appendTo(r).dxPopover({contentTemplate:function(t){t.append(T)},showEvent:"mouseenter",hideEvent:"mouseleave",width:300}).dxPopover("instance");_.tmpl=T,_.des=o[i].help,_.fn=function(t){this.option("target",t),this.tmpl.html(this.des[t.attr("halp")]),this.show()},t.step3_cmd_help=_},exPopUp:function(n){var e=[],i=t.step3_utils.editConfig.panelSZ,o=0,a=function(t){e[t].focus(),e[t]._$element.find(".dx-texteditor-input").select()},s=function(t){var n=parseInt(t.element.attr("tabidx"));[0,3].indexOf(n)>-1?function(t,n){var i=null;t.value<e[n+1].option("value")?i=n+1:t.value>e[n+2].option("value")&&(i=n+2),null!==i&&(i=e[i].option("value"),t.component.setV=i,t.component.option("value",i))}(t,n):[1,4].indexOf(n)>-1?function(t,n){var i=null;t.value>e[n-1].option("value")&&(i=e[i=n-1].option("value"),t.component.setV=i,t.component.option("value",i))}(t,n):function(t,n){var i=null;t.value<e[n-2].option("value")&&(i=e[i=n-2].option("value"),t.component.setV=i,t.component.option("value",i))}(t,n)},c=[],l=$("<div/>").appendTo(n.el).dxPopup({contentTemplate:function(t){var n=$('<table class="config-size-panel-diag"><thead><tr class="mb-1"><td></td><td>gia tri</td><td>Kich thuoc toi thieu</td><td>Kich thuoc toi da</td></tr></thead><tbody><tr class="mb-2"><td>chieu dai:</td><td class="w"></td><td class="miw"></td><td class="maw"></td></tr><tr><td>chieu rong:</td><td class="h"></td><td class="mih"></td><td class="mah"></td></tr></tbody></table><div class="second-group pointer-target-back">Quy uoc noi nhan con tro chuot</div>');t.append(n),c[0]=$("<div/>").appendTo(t.find(".second-group")).dxSelectBox({items:[{id:0,dis:"(Mac dinh)"},{id:1,dis:"Dieu khien nhap lieu ngay gio"}],displayExpr:"dis",valueExpr:"id",value:0,onValueChanged:function(t){c[1].option("disabled",!1)}}).dxSelectBox("instance"),n.find("tbody td:not(:first-child)").each(function(t,n){e.push($("<div c tabidx="+t+"/>").appendTo($(n)).dxNumberBox({value:i[t],format:"#",min:function(t){return t<3?i[1]:i[4]}(t),max:function(t){return t<3?i[2]:i[5]}(t),onKeyDown:function(t){if(t.event.stopPropagation(),9==t.event.which)"5"==t.component._$element.attr("tabidx")&&(t.event.preventDefault(),a(0));else if(13==t.event.which){t.event.preventDefault();var n=parseInt(t.component._$element.attr("tabidx"));a(5==n?0:n+1)}else 27==t.event.which&&l.hide()},onFocusOut:function(t){o=parseInt(t.element.attr("tabidx"))},onFocusIn:function(t){o=parseInt(t.element.attr("tabidx"))},onValueChanged:function(t){if(null===t.value){var n="max";[1,4].indexOf(o)>-1&&(n="min"),t.component.option("value",t.component.option(n))}t.component.setV!=t.value&&(s(t),c[1].option("disabled",!1))}}).dxNumberBox("instance"))})},onContentReady:function(t){t.component._$popupContent.addClass("gridpopupeditor gridpopupeditor").css({padding:"20px 20px 5px",height:"auto"});var n=function(t){0==$(t.target).closest(".dx-numberbox").length&&a(o)},e=t.component._$content;e.hasClass("hackkeydown")||(e.on("keydown",function(t){}),e.on("click",n),e.parent().on("click",function(t){n(t)}),e.on("mouseleave",function(t){n(t)}),e.addClass("hackkeydown"))},width:400,height:290,container:n.el.closest("#app"),visible:!1,shading:!0,dragEnabled:!0,showCloseButton:!0,position:{at:"top",my:"top",of:n.showat},onShowing:function(t){c[1].option("disabled",!0)},onShown:function(n){t.step3_utils.editPO.fuckSZ_Shown=1,a(0)},onHiding:function(e){t.step3_utils.editPO.fuckSZ_Shown=0,n.fn.onHiding(e)},onHidden:function(t){},toolbarItems:[{widget:"dxButton",toolbar:"top",location:"before",options:{stylingMode:"text",disabled:!0,elementAttr:{class:"dume-border0"},template:function(t,n,e){return $('<div class="btn btn-outline-warning btn-sm"><i class="ti-save"></i> Luu Thay doi</div>')},onClick:function(t){srclocked(!0),setTimeout(function(){n.fn.save.diagsetting({sz:$.map(e,function(t,n){return{i:t.option("value")}}),pt:c[0].option("value")})},10)},onContentReady:function(t){c[1]=t.component}}}]}).dxPopup("instance");return l},WrLOG:c}};return{fa:function(t){var o=this,a=t[0],s=t[1],c=t[2];c.hasClass("l-o-a-d")||(c.html('<i class="dx-icon dx-icon-preferences calc-setting"></i>'),c.addClass("l-o-a-d calc_setting"),c.off("click").on("click",function(c,l){if(l)switch(l.a){case"_uv":setTimeout(function(){e(l.d,o,a,function(t){delete a.step3_utils.calcRule,s.trigger("giaotiepevt","resetS3BADGE")})},10);break;case"editFilter":n(l,o,a,function(t){})}else a.s3_settingPopup?a.s3_settingPopup.show():a.s3_settingPopup=i.apply(o,t)}))},fi:function(t){return[{id:-1,na:"Filter by Employee information",ca:0,fi:[["acno",">",0],"or"],ac:1},{id:-2,na:"Loc bang ngay thang",ca:0,fi:["or"],ac:1},{id:-3,na:"Loc bang thu trong tuan",ca:0,fi:["or"],ac:1},{id:-4,na:"Ket hop thong tin nhan vien + ngay thang",ca:0,fi:["or"],ac:1},{id:-5,na:"Ket hop thong tin nhan vien + thu trong tuan",ca:0,fi:["or"],ac:1},{id:-6,na:"Ket ngay thang + thu trong tuan",ca:0,fi:["or"],ac:1}]},fo:s,fn:function(t){this.publicInstanceVar="baz",this.publicInstanceMethod=function(){}}}}());

</script>

<script type="text/javascript">
_o$h.hasOwnProperty("b")||(_o$h.b=function(n){"use strict";return{z:function(){window.location.hostname},u:function(){}}}());

</script>